(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(97)},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=n(3),i=n(8),u=n(38),l=n(6),m=n(9),f={categories:[],questions:[]},E={score:0},d=Object(i.c)({trivia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"GET_CATEGORIES":return Object(m.a)({},e,{categories:a});case"REMOVE_QUESTION":var r=Object(l.a)(e.questions);return r.shift(),Object(m.a)({},e,{questions:r});case"GET_QUESTIONS":return Object(m.a)({},e,{questions:a});case"CLEAR_QUESTIONS":return Object(m.a)({},e,{questions:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;switch((arguments.length>1?arguments[1]:void 0).type){case"GET_SCORE":var t=parseInt(localStorage.getItem("score"));return Object(m.a)({},e,{score:isNaN(t)?0:t});case"ADD_SCORE":return Object(m.a)({},e,{score:e.score+1});default:return e}}}),O=[u.a],p=Object(i.e)(d,{},Object(i.d)(i.a.apply(void 0,O),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),b=n(7),v=n(11),g=n.n(v),h=n(21),w=n(22),y=n.n(w),j=n(15),_=n.n(j),S=function(){var e=Object(s.b)(),t=Object(s.c)(function(e){return e.trivia.categories});return Object(a.useEffect)(function(){0===t.length&&e(function(){var e=Object(h.a)(g.a.mark(function e(t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://opentdb.com/api_category.php");case 2:200===(n=e.sent).status&&t({type:"GET_CATEGORIES",payload:n.data.trivia_categories});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[]),r.a.createElement("div",{className:"category-select"},t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"categories"},t.map(function(e){return r.a.createElement(b.A,{href:"/".concat(e.id),className:"category hover",key:e.id},e.name)}))):r.a.createElement(_.a,{className:"container categories-loader",type:"TailSpin",color:"whitesmoke",height:100,width:100}))},N=n(23),T=n(4),I=function(e){var t=e.selectedAnswer,n=e.correctAnswer,c=e.correct,o=Object(a.useRef)(),s=Object(T.d)({from:{opacity:.1},to:{opacity:1},config:{duration:200},ref:o}),i=Object(a.useRef)(),u=Object(T.d)({from:{backgroundColor:"#F5F5F5"},to:{backgroundColor:c?"#98FB98":"rgba(255,0,0,.7)"},config:{duration:800},ref:i}),l=Object(a.useRef)(),m=Object(T.d)({from:{opacity:0},to:{opacity:1},config:{duration:1200},ref:l});return Object(T.c)([o,i,l],[0,.4,.4]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a.div,{style:s,className:"result"},r.a.createElement(T.a.div,{style:u},r.a.createElement("p",{style:{padding:"1rem"},dangerouslySetInnerHTML:{__html:t}}))),r.a.createElement(T.a.div,{style:m,className:"correct-answer"},c?null:r.a.createElement("p",null,"Correct answer:",r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))))},R=function(e){var t=e.answers,n=e.selectAnswer,a=Object(T.d)({from:{transform:"scale(0.1)",opacity:1},to:{transform:"scale(1)",opacity:1},config:T.b.slow});return r.a.createElement(T.a.div,{className:"answers",style:a},t.map(function(e){return r.a.createElement("div",{className:"answer-btn hover",onClick:n,"data-answer":e,id:e,key:e,dangerouslySetInnerHTML:{__html:e}})}))},A=function(e){var t=e.questionData,n=e.answers,c=e.nextQuestion,o=Object(a.useState)(!1),i=Object(N.a)(o,2),u=i[0],l=i[1],m=Object(a.useState)(""),f=Object(N.a)(m,2),E=f[0],d=f[1],O=Object(s.b)(),p=t.question,b=t.correct_answer;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{dangerouslySetInnerHTML:{__html:p}}),u?r.a.createElement(I,{selectedAnswer:E,correct:E===b,correctAnswer:b}):r.a.createElement(R,{answers:n,selectAnswer:function(e){var t=e.target.dataset.answer;d(t),l(!0)}}),r.a.createElement("button",{onClick:function(){E===b&&O(function(e){e({type:"ADD_SCORE"})}),l(!1),c()},className:"next-btn",style:{visibility:u?"visible":"hidden"}},"Next Question"))},C=n(39),k=function(e){var t=e.id,n=Object(s.c)(function(e){return e.trivia.questions}),c=Object(s.b)();Object(a.useEffect)(function(){n.length<1&&c(function(e){return function(){var t=Object(h.a)(g.a.mark(function t(n){var a;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("https://opentdb.com/api.php?amount=10&category=".concat(e));case 2:200===(a=t.sent).status&&n({type:"GET_QUESTIONS",payload:a.data.results});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}),Object(a.useEffect)(function(){return function(){c(function(e){e({type:"CLEAR_QUESTIONS"})})}},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"question"},n.length>0?r.a.createElement(A,{questionData:n[0],nextQuestion:function(){c(function(e){e({type:"REMOVE_QUESTION"})})},answers:Object(C.shuffle)([n[0].correct_answer].concat(Object(l.a)(n[0].incorrect_answers)))}):r.a.createElement("div",{className:"loader"},r.a.createElement(_.a,{type:"TailSpin",color:"#c4c4c4",height:100,width:100}))))},q=function(){var e=Object(s.c)(function(e){return e.user.score}),t=Object(s.b)();return Object(a.useEffect)(function(){t(function(e){e({type:"GET_SCORE"})})},[]),window.onunload=function(){localStorage.setItem("score",e)},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"score"},r.a.createElement("p",null,"Score:")," ",r.a.createElement("h4",null,e)))},D=function(){return r.a.createElement("div",{className:"header"},r.a.createElement(b.A,{href:"/"},"Trivia"),r.a.createElement(q,null))},x=(n(96),{"/":function(){return r.a.createElement(S,null)},"/:id":function(e){var t=e.id;return r.a.createElement(k,{id:t})}});var F=function(){var e=Object(b.useRoutes)(x);return r.a.createElement(s.a,{store:p},r.a.createElement(D,null),e)};Object(b.setBasepath)("/trivia"),o.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.5dd45257.chunk.js.map